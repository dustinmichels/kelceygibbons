<nav
  x-data="{ mobileMenu: false }"
  class="sticky top-0 z-40 bg-[var(--white-smoke)] border-b-2 border-[var(--blue-slate)] px-6 py-4">
  <div class="max-w-7xl mx-auto flex justify-between items-center">
    <!-- Logo / Title -->
    <a href="{{ site.Home.RelPermalink }}" class="cursor-pointer group">
      <h1
        class="font-header text-2xl font-black uppercase tracking-tighter leading-none text-[var(--blue-slate)]">
        {{ $title := site.Params.siteTitle }}
        {{ $parts := split $title " " }}
        {{ if ge (len $parts) 2 }}
          {{ index $parts 0 }}
          <span class="text-[var(--sweet-peony)]"
            >{{ anchorize (delimit (after 1 $parts) " ") }}</span
          >
        {{ else }}
          {{ $title }}
        {{ end }}
      </h1>
      <p
        class="font-mono text-xs uppercase tracking-widest text-[var(--burnt-peach)]">
        {{ site.Params.siteSubtitle }}
      </p>
    </a>

    <!-- Desktop Menu -->
    <div
      class="hidden md:flex gap-8 font-mono text-sm font-bold text-[var(--blue-slate)]">
      {{ range site.Menus.main }}
        <a
          href="{{ .PageRef | relURL }}"
          class="hover:text-[var(--sweet-peony)] hover:underline decoration-2 underline-offset-4 transition-all {{ if $.IsMenuCurrent "main" . }}
            text-[var(--sweet-peony)] underline
          {{ end }}">
          {{ .Name }}
        </a>
      {{ end }}
    </div>

    <!-- Mobile Menu Button -->
    <button
      class="md:hidden text-[var(--blue-slate)]"
      @click="mobileMenu = !mobileMenu">
      <i data-lucide="menu"></i>
    </button>
  </div>

  <!-- Mobile Menu -->
  <div
    x-show="mobileMenu"
    x-transition:enter="transition ease-out duration-200"
    x-transition:enter-start="opacity-0 -translate-y-2"
    x-transition:enter-end="opacity-100 translate-y-0"
    x-transition:leave="transition ease-in duration-150"
    x-transition:leave-start="opacity-100 translate-y-0"
    x-transition:leave-end="opacity-0 -translate-y-2"
    class="md:hidden absolute top-full left-0 w-full bg-[var(--white-smoke)] border-b-2 border-[var(--blue-slate)] p-6 space-y-4 font-mono text-center shadow-xl z-50">
    {{ range site.Menus.main }}
      <a
        href="{{ .PageRef | relURL }}"
        class="block py-2 hover:text-[var(--sweet-peony)] {{ if $.IsMenuCurrent "main" . }}
          text-[var(--sweet-peony)] underline
        {{ end }}"
        @click="mobileMenu = false">
        {{ .Name }}
      </a>
    {{ end }}
  </div>
</nav>
